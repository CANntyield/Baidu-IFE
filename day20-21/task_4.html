<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
</head>
<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
    <script>
        var btn = document.querySelector("#fade-btn");
        var obj = document.querySelector("#fade-obj");
        var opacity = 1;
        // btn.onclick = function(){
        //     btn.disabled = true;
        //     if(btn.innerHTML == "淡出"){
        //         if(opacity>0.0000000001){
        //             opacity -= 0.1;
        //             obj.style.opacity = opacity;
        //             var t=setTimeout(btn.onclick,1000);
        //         }
        //         else{
        //             btn.disabled = false;
        //             btn.innerHTML = "淡入";
        //         }
        //     }
        //     else{
        //         if(opacity<1){
        //             opacity += 0.1;
        //             obj.style.opacity = opacity;
        //             var t=setTimeout(btn.onclick,1000);
        //         }
        //         else{
        //             btn.disabled = false;
        //             btn.innerHTML = "淡出";
        //         }

        //     }
            
        // }
        btn.onclick = function(){
            opacity = 1;
            var t = setInterval(function(){
                opacity -= 0.1;
                obj.style.opacity = opacity;
                if(opacity<0.0000001) window.clearInterval(t);
            },1000);
        }
    </script>
</body>
</html>